<div class="modal-overlay" (click)="onBackdropClick($event)">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">New Page</h2>
            <button class="btn-close" (click)="onClose()">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>

        <div class="modal-body">
            <!-- Book Selection -->
            <div class="form-group">
                <label class="form-label">Select Book</label>
                <select class="form-select" [(ngModel)]="bookId">
                    <option value="">Choose a book...</option>
                    <option *ngFor="let book of books" [value]="book.id">
                        {{ book.title }}
                    </option>
                </select>
            </div>

            <!-- Page Title -->
            <div class="form-group">
                <label class="form-label">Page Title</label>
                <input 
                    type="text" 
                    class="form-input"
                    placeholder="Enter page title..."
                    [(ngModel)]="title"
                    autofocus />
            </div>

            <!-- Icon Selection -->
            <div class="form-group">
                <label class="form-label">Select Icon</label>
                <div class="icon-grid">
                    <button
                        *ngFor="let iconOption of iconOptions"
                        class="icon-option"
                        [class.selected]="selectedIcon === iconOption.icon"
                        (click)="selectIcon(iconOption.icon)"
                        [title]="iconOption.name"
                        type="button">
                        <span class="material-symbols-outlined">{{ iconOption.icon }}</span>
                    </button>
                </div>
            </div>

            <!-- Preview -->
            <div class="preview-section">
                <label class="form-label">Preview</label>
                <div class="preview-page">
                    <span class="material-symbols-outlined preview-icon text-accent">
                        {{ selectedIcon }}
                    </span>
                    <span class="preview-title">{{ title || 'Page Title' }}</span>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <button class="btn-cancel" (click)="onClose()">Cancel</button>
            <button 
                class="btn-save" 
                [disabled]="!title.trim() || !bookId"
                (click)="onSave()">
                Create Page
            </button>
        </div>
    </div>
</div>
