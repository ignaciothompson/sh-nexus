<div class="modal-overlay" (click)="close.emit()">
    <div class="modal-container" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <h2>Dashboard Settings</h2>
            <button class="close-btn" (click)="close.emit()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        
        <div class="modal-body">
            <div class="manage-sections">
                <div class="section-actions-header">
                    <h3>Manage Sections</h3>
                    <button class="btn btn-sm btn-primary" (click)="addSection()">
                        <i class="bi bi-plus-lg"></i> Add Section
                    </button>
                </div>
                
                <div cdkDropList class="section-list" (cdkDropListDropped)="drop($event)">
                    <div *ngFor="let section of sections; let i = index" cdkDrag class="section-item">
                        <div class="drag-handle" cdkDragHandle>
                            <i class="bi bi-grip-vertical"></i>
                        </div>
                        <span class="section-name">{{section.title}}</span>
                        
                        <div class="item-actions">
                            <button class="btn-icon" (click)="moveUp(i)" [disabled]="i === 0">
                                <i class="bi bi-arrow-up"></i>
                            </button>
                            <button class="btn-icon" (click)="moveDown(i)" [disabled]="i === sections.length - 1">
                                <i class="bi bi-arrow-down"></i>
                            </button>
                            <button class="btn-icon" (click)="renameSection(section)">
                                <i class="bi bi-pencil"></i>
                            </button>
                            <button class="btn-icon danger" (click)="deleteSection(section)">
                                <i class="bi bi-trash"></i>
                            </button>
                        </div>
                        <div *cdkDragPlaceholder class="drag-placeholder"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-secondary" (click)="close.emit()">Close</button>
        </div>
    </div>
</div>
