<!-- Overlay -->
<div class="sidebar-overlay" [class.active]="isOpen" (click)="close()"></div>
<!-- Sidebar Panel -->
<aside class="sidebar-panel" [class.open]="isOpen">
    <!-- Header -->
    <div class="sidebar-header">
        <h2 class="sidebar-title">
            <i class="bi bi-layout-sidebar-inset-reverse"></i> Quick View
        </h2>
        <button class="sidebar-close" (click)="close()">
            <i class="bi bi-x-lg"></i>
        </button>
    </div>
    <!-- Content -->
    <div class="sidebar-content">
        <!-- Mini Calendar -->
        <section class="sidebar-section">
            <div class="calendar-header">
                <button class="calendar-nav" (click)="previousMonth()">
                    <i class="bi bi-chevron-left"></i>
                </button>
                <span class="calendar-month">{{ monthYear }}</span>
                <button class="calendar-nav" (click)="nextMonth()">
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>
            <div class="calendar-grid">
                <div class="calendar-day-header">Su</div>
                <div class="calendar-day-header">Mo</div>
                <div class="calendar-day-header">Tu</div>
                <div class="calendar-day-header">We</div>
                <div class="calendar-day-header">Th</div>
                <div class="calendar-day-header">Fr</div>
                <div class="calendar-day-header">Sa</div>
                <div *ngFor="let day of calendarDays" class="calendar-day" [class.today]="day.isToday" [class.other-month]="!day.isCurrentMonth"> {{ day.date }} </div>
            </div>
        </section>
        <!-- Notes Section -->
        <section class="sidebar-section">
            <div class="section-header">
                <h3 class="section-title">
                    <i class="bi bi-journal-text"></i> Recent Notes
                </h3>
                <button class="section-action" title="Open Notes App">
                    <i class="bi bi-box-arrow-up-right"></i>
                </button>
            </div>
            <div class="notes-list">
                <div *ngFor="let note of notes" class="note-card">
                    <h4 class="note-title">{{ note.title }}</h4>
                    <p class="note-preview">{{ note.preview }}</p>
                    <span class="note-date">{{ note.date | date:'MMM d' }}</span>
                </div>
                <div *ngIf="notes.length === 0" class="empty-state">
                    <i class="bi bi-journal"></i>
                    <span>No notes yet</span>
                </div>
            </div>
        </section>
        <!-- Todo Section -->
        <section class="sidebar-section">
            <div class="section-header">
                <h3 class="section-title">
                    <i class="bi bi-check2-square"></i> Tasks
                </h3>
                <button class="section-action" title="Open Tasks App">
                    <i class="bi bi-box-arrow-up-right"></i>
                </button>
            </div>
            <div class="todo-list">
                <div *ngFor="let todo of todos" class="todo-item" [class.completed]="todo.completed" (click)="toggleTodo(todo)">
                    <div class="todo-checkbox">
                        <i class="bi" [class.bi-check-circle-fill]="todo.completed" [class.bi-circle]="!todo.completed"></i>
                    </div>
                    <span class="todo-text">{{ todo.text }}</span>
                </div>
                <div *ngIf="todos.length === 0" class="empty-state">
                    <i class="bi bi-check2-all"></i>
                    <span>All done!</span>
                </div>
            </div>
        </section>
    </div>
</aside>