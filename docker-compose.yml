services:
  hub:
    build: 
      context: ./apps/hub
      dockerfile: Dockerfile
    container_name: nexus-hub
    restart: unless-stopped
    ports:
      - "5100:8080"
    volumes:
      - ./data/hub_pb_data:/pb/pb_data
    networks:
      - nexus_net

  media-tracker:
    build:
      context: ./apps/media-tracker
      dockerfile: Dockerfile
    container_name: nexus-media
    restart: unless-stopped
    ports:
      - "5101:8080"
    volumes:
      - ./data/media_pb_data:/pb/pb_data
    networks:
      - nexus_net

  textbook:
    build:
      context: ./apps/textbook
      dockerfile: Dockerfile
    container_name: nexus-textbook
    restart: unless-stopped
    ports:
      - "5102:8080"
    volumes:
      - ./data/textbook_pb_data:/pb/pb_data
    networks:
      - nexus_net

networks:
  nexus_net:
    driver: bridge
