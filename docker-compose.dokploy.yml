services:
  hub:
    build: 
      context: ./apps/hub
      dockerfile: Dockerfile
    restart: unless-stopped
    ports:
      - "5100:8080"
    volumes:
      - hub_pb_data:/pb/pb_data
    networks:
      - nexus_net

  media-tracker:
    build:
      context: ./apps/media-tracker
      dockerfile: Dockerfile
    restart: unless-stopped
    ports:
      - "5101:8080"
    volumes:
      - media_pb_data:/pb/pb_data
    networks:
      - nexus_net

  textbook:
    build:
      context: ./apps/textbook
      dockerfile: Dockerfile
    restart: unless-stopped
    ports:
      - "5102:8080"
    volumes:
      - textbook_pb_data:/pb/pb_data
    networks:
      - nexus_net

networks:
  nexus_net:
    driver: bridge

volumes:
  hub_pb_data:
  media_pb_data:
  textbook_pb_data:
